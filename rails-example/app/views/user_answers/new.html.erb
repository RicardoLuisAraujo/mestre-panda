<div class="container exercise-page">
  <h2 class="exercise-title">Exercício <%= @exercise.id %> de <%= @exercise.category %> - <%= @exercise.sub_category %></h2>

  <div class="exercise-statement col-xs-12 col-sm-12 col-lg-8 mx-auto">
    <div class="card">
    <% if @exercise.image %>
      <%= image_tag @exercise.image, class: "mx-auto image-centered", width: 300, height: 350%>
      <p class="exercise-source text-center text-muted">Fonte: <%=@exercise.source%></p>
      <div class="card-body text-justify"> 
        <%= simple_format @exercise.statement %>
      </div>
    <% else %>
      <div class="card-body text-justify"> 
        <%= simple_format @exercise.statement %>
      </div>
      <p class="exercise-source text-center text-muted">Fonte: <%=@exercise.source%></p>
    <% end %> 
    </div>
  </div>

  <br>

  <%= render 'user_answer_form'%>
  <br>
  <div id="resolution" style="display:none">
      
      <%if current_user.user_answers.last.answer.answer == @exercise.answers.select { |answer| answer.true_answer == true }[0].answer %>

        <p>A tua resposta: <%=@exercise.user_answers.last.answer.answer%></p>
        <p>A tua resposta está correta!</p>
      <%else%>
        <p>A tua resposta: <%=@exercise.user_answers.last.answer.answer%></p>
        <p>A tua resposta está errada.</p>
      <%end%>
      <br>
      <h3>Resolução do Exercício:</h3>
      <br>
      <div class="exercise-statement col-xs-9 col-sm-9 col-lg-6 mx-auto">    
        <%= simple_format @exercise.resolution %>
      </div>

      <br>
      <%= link_to "Go back to Home Page", exercises_path() %>
      <br>
      <!--<%#= link_to "Go to Next Exercise", new_exercise_user_answer(@exercise.next) %>-->
  </div>
</div>
<%# <%raise%> 

<script>

var myEl = document.getElementById('submit');

myEl.addEventListener('click', function() {
    document.getElementById("resolution").style.display = 'block';
}, false);

</script>